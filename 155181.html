<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Backbone</title>
<script type="text/javascript" src="backbone.js"></script>
<script type="text/javascript">
var each = function(obj, fn){
        //+++++++++++答题区域+++++++++++
        if(typeof obj === "object"){
                if(obj.length){//array
                      var len = obj.length;
                      for(var i = 0; i < len; i++){                        
                        if(fn.call(obj[i], i+1) === false){
                                return;
                        }
                      }
                }else{//object
                        for(var j in obj){
                                fn.call(obj[j], obj[j], j)
                        }
                }                
        }


        //+++++++++++答题结束+++++++++++
};

try{
        
        var data1 = [4,5,6,7,8,9,10,11,12];
        var data2 = {
                "a": 4,
                "b": 5,
                "c": 6
        };
        
        console.group(data1);
        
        each(data1, function(o){
                if( 6 == this )
                        return true;
                else if( 8 == this )
                        return false;
                console.log(o + ": \"" + this + "\"");
        });
        
        console.groupEnd();

        /*------[执行结果]------

        1: "4"
        2: "5"
        4: "7"

        ------------------*/
        
        console.group(data2);
        
        each(data2, function(v, n){
                if( 5 == this )
                        return true;
                console.log(n + ": \"" + v + "\"");
        });
        
        console.groupEnd();

        /*------[执行结果]------

        a: "4"
        c: "6"

        ------------------*/
        
}catch(e){
        console.error("执行出错，错误信息: " + e);
}
</script>
</head>

<body>  
                
</body>
</html>


